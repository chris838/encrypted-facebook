<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Encrypted Facebook: DataCarrierImg Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>DataCarrierImg Struct Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="DataCarrierImg" --><!-- doxytag: inherits="CImg&lt; char &gt;" -->
<p>Class representing a <a class="el" href="structcimg__library_1_1CImg.html">CImg&lt;char&gt;</a> with support for implanting and extracting data.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for DataCarrierImg:</div>
<div class="dyncontent">
 <div class="center">
  <img src="structDataCarrierImg.png" usemap="#DataCarrierImg_map" alt=""/>
  <map id="DataCarrierImg_map" name="DataCarrierImg_map">
<area href="structcimg__library_1_1CImg.html" alt="CImg&lt; char &gt;" shape="rect" coords="0,0,98,24"/>
</map>
</div>

<p><a href="structDataCarrierImg-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataCarrierImg.html#ad115dc610f3f7528767d4aa45fa35b66">format_for_implantation</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Format the image in preparation for implantation.  <a href="#ad115dc610f3f7528767d4aa45fa35b66"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataCarrierImg.html#a5fdd25e16c1d5b86b68acac5a24ecae4">implant_data</a> (std::vector&lt; char &gt; &amp;data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implant a specified vector&lt;char&gt; into the image.  <a href="#a5fdd25e16c1d5b86b68acac5a24ecae4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataCarrierImg.html#a7769dc5e2644c5c1d13cbeb7235c5304">extract_data</a> (std::vector&lt; char &gt; &amp;data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to allocate and return a new vector&lt;char&gt; containing the extracted data.  <a href="#a7769dc5e2644c5c1d13cbeb7235c5304"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade2d300f665591ba4b5870dcb4afe251"></a><!-- doxytag: member="DataCarrierImg::DataCarrierImg" ref="ade2d300f665591ba4b5870dcb4afe251" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataCarrierImg.html#ade2d300f665591ba4b5870dcb4afe251">DataCarrierImg</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class representing a <a class="el" href="structcimg__library_1_1CImg.html">CImg&lt;char&gt;</a> with support for implanting and extracting data. </p>
<p>This is a specific CImg subclass (each pixel being of type char) which supports data implantation and extraction in a relatively JPEG compression immune fashion. Implanted data will still require error correction coding to be fully recovered. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad115dc610f3f7528767d4aa45fa35b66"></a><!-- doxytag: member="DataCarrierImg::format_for_implantation" ref="ad115dc610f3f7528767d4aa45fa35b66" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void format_for_implantation </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Format the image in preparation for implantation. </p>
<p>This operation will resize the image to 720x720x1 and truncate the colour channels, as only data storage in single-channel (greyscale) image is supported. JPEG compression requires an (imperfect) colour space transform from RGB to YCrCb which complicates using colour images for data storage. Even worse - Facebook's JPEG compression process uses chrominance subsampling. However, this does mean that discarding the additional two chrominance channels only results in a 50 reduction in maximum potential data storage capacity. </p>

</div>
</div>
<a class="anchor" id="a5fdd25e16c1d5b86b68acac5a24ecae4"></a><!-- doxytag: member="DataCarrierImg::implant_data" ref="a5fdd25e16c1d5b86b68acac5a24ecae4" args="(std::vector&lt; char &gt; &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void implant_data </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; char &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implant a specified vector&lt;char&gt; into the image. </p>
<p>This operation implants a data vector into the image, using 3 bytes per 8x8 pixel block. The final two blocks are reserved for storing the length of the data vector, so it may be easily recovered. Unused blocks are padded with random data. This function may throw DataCarrierImgExtractionException, normally if the data provided is too large to store. /param data The vector&lt;char&gt; that we wish to implant in the image. Must be no more than 24294 bytes (90x90 blocks, 3 bytes per block, subtract 6-byte length tag). </p>

</div>
</div>
<a class="anchor" id="a7769dc5e2644c5c1d13cbeb7235c5304"></a><!-- doxytag: member="DataCarrierImg::extract_data" ref="a7769dc5e2644c5c1d13cbeb7235c5304" args="(std::vector&lt; char &gt; &amp;data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void extract_data </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; char &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attempt to allocate and return a new vector&lt;char&gt; containing the extracted data. </p>
<p>This operation allocates a new vector&lt;char&gt; big of a size denoted by the length tag at the end (last two 8x8 pixel blocks) of the image. Extraction of the data is then attempted. This function may well throw DataCarrierImgExtractionException since the image may be a normal Facebook image and not contain anything. </p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Dec 31 2010 08:12:15 for Encrypted Facebook by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
