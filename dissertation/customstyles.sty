%********************************************************************
%   Fonts and styles for body and headings
%********************************************************************

\sodef\hso{}{0.065em}{0.4em}{0.3em}{}
\newcommand{\secformat}[1]{{#1}}%

\DeclareRobustCommand{\hZero}{\usefont{T1}{futura_lt_bold}{m}{n} \fontsize{32}{38}\selectfont}%
\DeclareRobustCommand{\hA}{\usefont{T1}{futura_lt_bold}{m}{n} \Huge}%
\DeclareRobustCommand{\hB}{\usefont{T1}{futura_lt_heavy}{m}{n} \fontsize{20}{24}\selectfont}%
\DeclareRobustCommand{\hC}{\usefont{T1}{futura_lt_heavy}{m}{n} \large}%
\DeclareRobustCommand{\hD}{\usefont{T1}{futura_lt_medium}{m}{n} \large}%
\DeclareRobustCommand{\hE}{\usefont{T1}{futura_lt_heavy}{m}{n} \normalsize}%

% parts
\titleformat{\part}
        {\hZero }{\thepart}{1em}{}
% chapters
\titleformat{\chapter}
        {\hA }{%
            \makebox[0pt][r]{%
            {\hZero \thechapter} \enskip}%
	}{0em}{}
% sections
\titleformat{\section}{ \hB }
        {%
            \makebox[0pt][r]{%
            \thesection\enskip}%
	}{0em}{\secformat}
        
% subsections
\titleformat{\subsection}{ \hC }{%
            \makebox[0pt][r]{%
            { \thesubsection} \enskip}%
	}{0em}{\secformat}
        
% subsubsections
\titleformat{\subsubsection}
    { \hD }{}{1em}{\secformat}
    
% paragraphs
\titleformat{\paragraph}[runin]
    { \hE }{\theparagraph}{1em}{\secformat}
    
% descriptionlabels  
\newenvironment{desc}{%
    \renewcommand{\descriptionlabel}[1]{
        \fontfamily{futura_lt_heavy}
        \selectfont
        \hso{##1}
    }
   \begin{description}%
}{%
   \end{description}%
}

\newenvironment{sdesc}{%
   \renewcommand\descriptionlabel[1]{\hspace{\labelsep}\textbf{##1}}
   \begin{description}%
}{%
   \end{description}%
}
    
%********************************************************************
%   Fonts and styles for table of contents and other listings
%********************************************************************

% parts
\renewcommand{\cftpartfont}{ \hB }
\setlength{ \cftpartnumwidth}{2em}
\setlength{\cftbeforepartskip}{2.2em}
% chapters
\renewcommand{\cftchapfont}{ \hC }
\setlength{ \cftchapnumwidth}{2em}
\setlength{\cftbeforechapskip}{1.3em}
% sections
\renewcommand{\cftsecfont}{ \hD }
\setlength{\cftsecnumwidth}{3em}
\setlength{\cftbeforesecskip}{1.1em}
% subsections
\setlength{ \cftsubsecnumwidth}{4em}
\setlength{\cftbeforesubsecskip}{0.6em}
\renewcommand{\cftsubsecdotsep}{\cftnodots}
% page numbers
\cftpagenumbersoff{subsec}
\renewcommand{\cftchappagefont}{    \normalsize \usefont{T1}{futura_lt_heavy}{m}{n} }
\renewcommand{\cftsecpagefont}{     \normalsize \usefont{T1}{futura_lt_medium}{m}{n} }
\renewcommand{\cftsubsecpagefont}{  \normalsize \usefont{T1}{futura_lt_medium}{m}{n} }

  
%********************************************************************
%   All floats will be aligned this way
%********************************************************************

\newcommand{\myfloatalign}{\centering}

\newcommand{\tocEntry}[1]{% for bib, etc.
    \ifpdf\texorpdfstring{ \so{#1} }{#1}%
    \else{#1}\fi%
}

%********************************************************************
%   Bold table rows
%********************************************************************

\newcolumntype{+}{>{\global\let\currentrowstyle\relax}}
\newcolumntype{^}{>{\currentrowstyle}}
\newcommand{\rowstyle}[1]{\gdef\currentrowstyle{#1}%
#1\ignorespaces
}

%********************************************************************
%   Theorems
%********************************************************************

\newtheorem{thm}{Theorem}[chapter]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}

\theoremstyle{remark}
\newtheorem{rem}[thm]{Remark}

\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}

\newtheorem{scheme}{Scheme}


%********************************************************************
%   Code Listing
%********************************************************************

\lstset{
         basicstyle=\footnotesize\ttfamily, % Standardschrift
         %numbers=left,               % Ort der Zeilennummern
         numberstyle=\tiny,          % Stil der Zeilennummern
         %stepnumber=2,               % Abstand zwischen den Zeilennummern
         numbersep=5pt,              % Abstand der Nummern zum Text
         tabsize=2,                  % Groesse von Tabs
         extendedchars=true,         %
         breaklines=true,            % Zeilen werden Umgebrochen
         keywordstyle=\color{red},
    		frame=b,         
 %        keywordstyle=[1]\textbf,    % Stil der Keywords
 %        keywordstyle=[2]\textbf,    %
 %        keywordstyle=[3]\textbf,    %
 %        keywordstyle=[4]\textbf,   \sqrt{\sqrt{}} %
         stringstyle=\color{white}\ttfamily, % Farbe der String
         showspaces=false,           % Leerzeichen anzeigen ?
         showtabs=false,             % Tabs anzeigen ?
         xleftmargin=17pt,
         framexleftmargin=17pt,
         framexrightmargin=5pt,
         framexbottommargin=4pt,
         %backgroundcolor=\color{lightgray},
         showstringspaces=false      % Leerzeichen in Strings anzeigen ?        
 }
 \lstloadlanguages{% Check Dokumentation for further languages ...
         %[Visual]Basic
         %Pascal
         %C
         %C++
         %XML
         %HTML
         Java
 }
    %\DeclareCaptionFont{blue}{\color{blue}} 

  %\captionsetup[lstlisting]{singlelinecheck=false, labelfont={blue}, textfont={blue}}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[cmyk]{0.43, 0.35, 0.35,0.01}{\parbox{\textwidth}{\hspace{15pt}#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}